<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>LeapFone</title>
    <!-- Tell the browser to be responsive to screen width -->
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
    <link rel="Shortcut Icon" href="../../web/images/favicon.ico" />
    <link rel="stylesheet" href="../../web/css/public/bootstrap.min.css">
    <link rel="stylesheet" href="../../web/css/public/font-awesome.min.css">
    <link rel="stylesheet" href="../../web/css/public/ionicons.min.css">
      <link rel="stylesheet" href="../../web/css/public/select2.min.css">
    <link rel="stylesheet" href="../../web/css/public/admin.css">
    <link rel="stylesheet" href="../../web/css/public/skin-blue.min.css">
    <link rel="stylesheet" href="../../web/css/public/table.css">
    <link rel="stylesheet" href="../../web/css/public/dialog.css">
    <link rel="stylesheet" href="../../web/css/public/ts.css">
    <link rel="stylesheet" href="../../web/css/lcd/list.css">
    <style type="text/css">.select-input>
        span.select2{
         width:34% !important;
        }
        .btn{
            min-width:80px;
            margin-left:10px;
            outline:none !important;
            box-shadow:none !important;
        }
        .operate-zone{
            margin-bottom:15px;
        }
    </style>
</head>
<body class="hold-transition skin-blue sidebar-mini">
    <div class="wrapper">

        <!-- Main Header -->
        <header class="main-header">
            <!-- Logo -->
            <a href="javascript:;" class="logo">
                <!-- mini logo for sidebar mini 50x50 pixels -->
                LeapFone
                <!-- logo for regular state and mobile devices -->
                <span class="logo-lg"><img src="../../web/images/logo_head.png"></span>
            </a>

            <!-- Header Navbar -->
            <nav class="navbar navbar-static-top" role="navigation">
                <!-- Sidebar toggle button-->
                <a href="../../ota/web/#" class="sidebar-toggle" data-toggle="push-menu" role="button">
                    <span class="sr-only">Toggle navigation</span>
                </a>
                <!-- Navbar Right Menu -->
                <div class="navbar-custom-menu">
                    <ul class="nav navbar-nav">
                        <!-- User Account Menu -->
                        <li class="dropdown user user-menu">
                            <!-- Menu Toggle Button -->
                            <a href="../../ota/web/#" class="dropdown-toggle" data-toggle="dropdown">
                                <span >用户名</span>
                            </a>
                            <ul class="dropdown-menu">
                                <!-- The user image in the menu -->

                                <!-- Menu Body -->
                              <li class="user-body">
                                    <div class="row">
                                        <div class="col-xs-4 text-center">
                                            <a href="../site/resetphone.html">修改手机</a>
                                        </div>
                                        <div class="col-xs-4 text-center">
                                            <a href="../user/rsetpwd.html">修改密码</a>
                                        </div>
                                        <div class="col-xs-4 text-center">
                                            <a href="#">退出登录</a>
                                        </div>
                                    </div>
                                    <!-- /.row -->
                                </li>

                            </ul>
                        </li>

                    </ul>
                </div>
            </nav>
        </header>
        <!-- Left side column. contains the logo and sidebar -->
        <aside class="main-sidebar">
            <!-- sidebar: style can be found in sidebar.less -->
            <section class="sidebar">
              <!-- Sidebar Menu -->
              <ul class="sidebar-menu" data-widget="tree">
                <!-- Optionally, you can add icons to the links -->
                <li class="treeview">
                    <a href="#"><i class="fa fa-link"></i> <span>设置</span>
                        <span class="pull-right-container">
                            <i class="fa fa-angle-left pull-right"></i>
                        </span>
                    </a>
                    <ul class="treeview-menu">
                        <li><a href="#">商户设置</a></li>
                    </ul>
                </li>

                <li class="treeview">
                    <a href="#"><i class="fa fa-link"></i> <span>广告</span>
                        <span class="pull-right-container">
                            <i class="fa fa-angle-left pull-right"></i>
                        </span>
                    </a>
                    <ul class="treeview-menu">
                        <li><a href="#">Link in level 2</a></li>
                        <li><a href="#">Link in level 2</a></li>
                    </ul>
                </li>

                <li class="active">
                    <a href="#">
                        <i class="fa fa-link"></i>
                        <span>Link</span>
                    </a>
                </li>

              </ul>
              <!-- /.sidebar-menu -->
            </section>
            <!-- /.sidebar -->
        </aside>

        <!-- Content Wrapper. Contains page content -->
        <div class="content-wrapper">
            <!-- Main content -->
            <section class="content container-fluid">
                <form style="display:flex;flex-wrap:wrap;" class='operate-zone'>
                    <div class="col-md-2">
                        <div class="form-group col-md-12 input-xx">
                            <input  type="text" class="form-control leapid" autocomplete="off"  placeholder="请输入绑定广告机的leapid">
                        </div>
                    </div>
                    <div class="">
                        <button type="button"  class="btn btn-primary"  onclick="bind()">绑定</button>
                    </div>
                </form>
               <div class="">
                    <div class="table-con ">
                      <table class="table">
                            <thead>
                                <tr style=" background-color: rgba(0, 0, 0, 0.09); border: solid 1px rgba(0, 0, 0, 0.15);">
                                    <th width="320px"  class="sl">Leapid</th>
                                    <th width="320px"  class="sl">批次号</th>
                                    <th width="320px"  class="sl">批次内流水</th>
                                    <th width="320px"  class="sl">操作</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td  class="sl" colspan="5" style='color:#3c8dbc'><span>某商家</span> 绑定的广告机列表</td>
                                </tr>
                                <tr>
                                    <td class="sl leap">10</td>
                                    <td class="sl">10</td>
                                    <td class="sl">00001</td>
                                    <td class="sl opr-box" >
                                        <a class='set-btn unbind' onclick="unbind(this)">解绑</a>
                                        <div class='xian'></div>
                                        <!-- 绑定商家个数显示 -->
                                        <a  class='set-btn' href='bindshop.html'>商家(10)</a>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        <div class="box-footer clearfix">
                            <ul class="pagination pagination-sm no-margin pull-right">
                                <li><a>«</a></li>
                                <li><a>1</a></li>
                                <li><a>2</a></li>
                                <li><a>3</a></li>
                                <li><a>»</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </section>
          </div>
        <!-- /.content-wrapper -->
        <!-- Main Footer -->
        <footer class="main-footer">
          <!-- To the right -->
          <div class="pull-right hidden-xs"></div>
          <!-- Default to the left -->
           <strong>Copyright ©  2017 上海感悟通信科技有限公司版权所有</strong> 沪ICP备17022468号
        </footer>
    </div>
    <!-- ./wrapper -->
    <!-- 成功提示 -->
    <div class="succ">
        <div class="ts-box">
            <div class="ts-xx ">
                <span class="font_family icon-judge_success_small glyphicon glyphicon-ok-circle"></span>
                <p>保存成功</p>
            </div>
        </div>
    </div>

    <!-- 失败提示 -->
    <div class="fail" >
        <div class="fail-ts">
            <div class="ts-xx">
                <span class='font_family icon-warning_large glyphicon glyphicon-remove-circle' ></span>
                <p>保存失败，请重新尝试！</p>
            </div>
        </div>
    </div>
    <!-- 删除提示框 -->
    <div class="del-box delete">
        <div class="dialog">
            <span class="font_family icon-close fa fa-close"></span>
            <img src="../../web/images/warning-large.png" alt="">
            <h6 class="del-title" '>是否确认删除?</h6>
            <div class="operate-del">
                <div class="cursor cancel btn btn-default"> 取消</div>
                <div class="cursor confirm  btn btn-primary">确认</div>
            </div>
        </div>
    </div>
    <!-- jQuery 3 -->
    <script src="../../web/js/public/jquery.min.js"></script>
    <!-- Bootstrap 3.3.7 -->
    <script src="../../web/js/public/bootstrap.min.js"></script>
    <script src="../../web/js/public/common.js"></script>
    <script src="../../web/js/public/select2.full.min.js"></script>
    <script src="../../web/js/public/ts.js"></script>
    <!-- AdminLTE App -->
    <script src="../../web/js/public/adminlte.min.js"></script>
    <script src='../../web/js/leapid/bind.js'></script>
</body>
<script type="text/javascript">
    var glo={
        'sub_flag':true,
    }
    // 保存设置
    function bind(){
        var leapid=$('.leapid').val();
        if(leapid==''){
            $('.leapid').focus()
            fail('请输入leapid')
            return
        }
        if(!fun.isNum(leapid)){
            $('.leapid').focus()
            fail('输入的leapid格式不正确')
            return
        }
        var str='';
        str+="<tr>";
        str+="<td class='sl leap'>"+leapid+"</td>";
        str+="<td class='sl'>10</td>";
        str+="<td class='sl'>00001</td>";
        str+="<td class='sl opr-box'>";
        str+="<a  class='set-btn unbind' onclick='unbind(this)'>解绑</a>";
        str+="<div class='xian'></div>";
        str+="  <a  class='set-btn' href='bindshop.html'>"+"商家(10)"+"</a>"
        str+="</td>";
        str+="</tr>";
        $('.table').append(str);
        $('.leapid').val('')
    }
    //解绑操作
    function unbind(obj){
        var tr = this.getRow(obj);
        tips_warning('确认要绑解绑吗？')
        $('.confirm').click(function(){
            hideconfirm()
            // $(tr).remove()
            $(obj).parent().parent().remove();
        })
    }

    const arr = [[1,2],[3,4],[5,6]];
    const total = arr.reduce(function(newArr,itemArr){
        return newArr.concat(itemArr)
    }, []);
    console.log(total); //[1, 2, 3, 4, 5, 6]
    // 数组直接reduce求和
    const arr1 = [1,2,3,4,5];
    const total1 = arr1.reduce(function(sum,item){
        return sum + item
    }, 0);
    console.log(total1);

    // 未指定initiaValue初始值 reduce(func,initiaValue)
    const arr2 = ["aaa", "bbb", "ccc"];
    function cycle(){
        return arr2.reduce(function(prev,next){
            console.log("prev:",prev);
            console.log("next:",next);
            return prev;     //==>>把初始值保存下来，否则下一个循环没有初始值
        });
    }
    cycle()
    function shuffle (arr) {
      const _arr = arr.slice()
      for (let i = 0; i < _arr.length; i++) {
        const j = getRandomIndex(0, i)
        const t = _arr[i]
        _arr[i] = _arr[j]
        _arr[j] = t
      }
      console.log(_arr)
      return _arr
    }
    var arr3=['12','23','33','1','0','6']
    shuffle(arr3)
</script>



